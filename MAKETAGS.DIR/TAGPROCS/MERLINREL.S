; -*- Mode: Merlin -*-;; File: MerlinRel;; This file contains the routines necessary to process Merlin; rel tags. ; put defs/maketags.equs org UserFuncAddr dsk bin/merlinrel use macros/standard; da NullVect ;jump here for start file processing. da MerlinTag? ;jump here for IsTag? and tag processing. da NullVect ;jump here for end-of-file processing.;NullVect rts; put tagprocs/tag.subs;MerlinTag? equ *  ;check LineBuff for Merlin tag. lda LineBuff beq :fail ;no text, no tag.; lda LineBuff+1 jsr AlphaChar? bne :fail ;a tag begins with an alpha char.; ldx #$01 stx LineIndex; jsr NextToken ;get the current token.; load temp;Tag jsr MoveToken ;assume that it's a valid tag.; jsr NextToken load temp;EntText jsr CompareToken beq :win;	...:fail lda #$FF ;fail - not a tag. rts;:win lda #$00 ;win. rts;ExtText str "EXT"EquText str "EQU"EqualText str "="EntText str "ENT";